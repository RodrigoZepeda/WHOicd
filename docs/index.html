<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Retrieve data from the World Health Organization (WHO) International Classification of Diseases (ICD) API version 2 • WHOicd</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Retrieve data from the World Health Organization (WHO) International Classification of Diseases (ICD) API version 2">
<meta property="og:description" content="Interface to the World Health Organization (WHO) International Classification of Diseases (ICD) API. It allows users to search the reference codes for diseases, codify plain text causes of death, and obtain additional information for reference codes. Currently available for ICD10 and ICD11.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">WHOicd</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.4.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/Generating-your-token.html">Generating your token</a>
    </li>
    <li>
      <a href="articles/ICD-10.html">ICD-10</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="whoicd">WHOicd<a class="anchor" aria-label="anchor" href="#whoicd"></a>
</h1></div>
<!-- badges: start -->

<p>Access the World Health Organization’s (WHO) International Classification of Diseases (ICD) <a href="https://icd.who.int/icdapi" class="external-link">API</a>. This allows you to use ICD-10 and ICD-11 codes, encode text directly into ICD-11, search for diseases in ICD-10, and detect underlying causes of death using the <a href="https://icd.who.int/doris" class="external-link">DORIS system</a>.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of WHOicd using the <code>remotes</code> package:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#install.packages("remotes")</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"RodrigoZepeda/WHOicd"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="setup">Setup<a class="anchor" aria-label="anchor" href="#setup"></a>
</h2>
<p>For the examples we’ll assume you already have a <code>CLIENT_ID</code> and <code>CLIENT_SECRET</code> for the WHO API as obtained in the <a href="/articles/Generating-your-token.html"><strong>Generaring your token</strong></a> article.</p>
<p>To interact with the API you’ll need to continuously create a token using the <code>get_token</code> function:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">WHOicd</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#Substitute CLIENT_ID and CLIENT_SECRET by your credentials</span></span>
<span><span class="va">token</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_token.html">get_token</a></span><span class="op">(</span><span class="va">CLIENT_ID</span>, <span class="va">CLIENT_SECRET</span><span class="op">)</span></span></code></pre></div>
<blockquote>
<p><strong>Note</strong> These tokens last for 1 hour and once the hour passes you’ll need to generate a new token. The package will try to auto-generate one for you.</p>
</blockquote>
<p>There are three main objectives for this package:</p>
<ol style="list-style-type: decimal">
<li>Use of the DORIS system to obtain underlying cause of death.</li>
<li>Use of ICD-11 to codify causes of death.</li>
<li>Use of ICD-10 to codify causes of death.</li>
</ol>
</div>
<div class="section level2">
<h2 id="doris-who-digital-open-rule-integrated-cause-of-death-selection">DORIS (WHO Digital Open Rule Integrated Cause of Death Selection)<a class="anchor" aria-label="anchor" href="#doris-who-digital-open-rule-integrated-cause-of-death-selection"></a>
</h2>
<p>The <a href="https://icd.who.int/doris/en" class="external-link">Digital Open Rule Integrated Cause of Death Selection</a>, DORIS, provides a framework for obtaining the underlying cause of death from a death certificate. DORIS functionality has been implemented in the <code>doris</code> function.</p>
<p>The following example considers a 60 year old female whose primary cause of death was <code>2D42</code>: <code>Malignant neoplasms of ill-defined sites</code> due to <code>2E03</code>: <code>Malignant neoplasm metastasis in bone or bone marrow</code> due to <code>CB41.0Z</code>: <code>Acute respiratory failure, unspecified</code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/doris.html">doris</a></span><span class="op">(</span><span class="va">token</span>, sex <span class="op">=</span> <span class="st">"Female"</span>, age <span class="op">=</span> <span class="fu"><a href="reference/iso_8601.html">iso_8601</a></span><span class="op">(</span>years <span class="op">=</span> <span class="fl">60</span><span class="op">)</span>, cause_of_death_code_a <span class="op">=</span> <span class="st">"2D42"</span>,</span>
<span>      cause_of_death_code_b <span class="op">=</span> <span class="st">"2E03"</span>, cause_of_death_code_c <span class="op">=</span> <span class="st">"CB41.0Z"</span><span class="op">)</span></span>
<span><span class="co">#&gt; $`Underlying cause of death (UCOD)`</span></span>
<span><span class="co">#&gt; [1] "2D42"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`UCOD URI`</span></span>
<span><span class="co">#&gt; [1] "http://id.who.int/icd/entity/2023965817"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`UCOD with postcoordinated information (if available)`</span></span>
<span><span class="co">#&gt; [1] "2D42"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`UCOD postcoordinated URI`</span></span>
<span><span class="co">#&gt; [1] "http://id.who.int/icd/release/11/mms/2023965817"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`Detailed explanation (report)`</span></span>
<span><span class="co">#&gt; [1] "SP4: 2E03 is the starting point of the first-mentioned sequence (2D42 due to 2E03), which is selected as the tentative starting point (TSP).\nM1: There is a special instruction on 2E03 reported with mention of 2D42.\nM1: 2D42 is selected as the TUC.\nM3: The tentative underlying cause is not the same as the starting point selected in Steps SP1 to SP8. Repeat steps SP6, M1 and M2.\n\n\nFull report:\nSP1: is not applicable.\nSP2: is not applicable.\nSP3: is not applicable.\nSP4: 2E03 is the starting point of the first-mentioned sequence (2D42 due to 2E03), which is selected as the tentative starting point (TSP).\nSP6: is not applicable.\nSP7: is not applicable.\nSP8: is not applicable.\nM1: There is a special instruction on 2E03 reported with mention of 2D42.\nM1: 2D42 is selected as the TUC.\nM1: There is no special instruction applicable with TUC 2D42.\nM2: is not applicable.\nM3: The tentative underlying cause is not the same as the starting point selected in Steps SP1 to SP8. Repeat steps SP6, M1 and M2.\nSP6: is not applicable.\nSP7: is not applicable.\nSP8: is not applicable.\nM1: There is no special instruction applicable with TUC 2D42.\nM2: is not applicable.\n"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $reject</span></span>
<span><span class="co">#&gt; [1] FALSE</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $error</span></span>
<span><span class="co">#&gt; NULL</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $warning</span></span>
<span><span class="co">#&gt; NULL</span></span></code></pre></div>
<p>All of the options are available in the function’s help page <a href="https://rodrigozepeda.github.io/WHOicd/reference/doris.html" class="external-link"><code>doris()</code></a>.</p>
</div>
<div class="section level2">
<h2 id="icd-11-examples">ICD-11 examples<a class="anchor" aria-label="anchor" href="#icd-11-examples"></a>
</h2>
<p>The main functions relating to ICD-11 are <code><a href="reference/search.html">icd11_search()</a></code> and <code><a href="reference/autocode.html">icd11_autocode()</a></code>. The first one allows you to search for a specific diagnosis using keywords inside <code>ICD-11</code> either in the <em>Mortality and Morbidity Statistics (MMS)</em> or in the <em>International Classification of Functioning, Disability and Health (ICF)</em>.</p>
<p>The following example searches for any coding related to Dementia related to HIV stage 4</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Look for Dementia and HIV stage 4</span></span>
<span><span class="va">search_results</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/search.html">icd11_search</a></span><span class="op">(</span><span class="va">token</span>, <span class="st">"Dementia HIV stage 4"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#Recover all of the titles matched</span></span>
<span><span class="va">search_results</span> <span class="op">|&gt;</span> <span class="fu"><a href="reference/retrieve.html">retrieve</a></span><span class="op">(</span><span class="st">"title"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Dementia due to human immunodeficiency virus [HIV disease clinical stage 4 associated with tuberculosis, unspecified]"                 </span></span>
<span><span class="co">#&gt; [2] "Dementia due to human immunodeficiency virus [Other specified HIV disease clinical stage 4 associated with tuberculosis]"              </span></span>
<span><span class="co">#&gt; [3] "Dementia due to human immunodeficiency virus [HIV disease clinical stage 4 associated with malaria, unspecified]"                      </span></span>
<span><span class="co">#&gt; [4] "Dementia due to human immunodeficiency virus [Other specified HIV disease clinical stage 4 associated with malaria]"                   </span></span>
<span><span class="co">#&gt; [5] "Dementia due to human immunodeficiency virus [HIV disease clinical stage 4 without mention of tuberculosis or malaria, unspecified]"   </span></span>
<span><span class="co">#&gt; [6] "Dementia due to human immunodeficiency virus [Other specified HIV disease clinical stage 4 without mention of tuberculosis or malaria]"</span></span></code></pre></div>
<p>Another function of importance is <code>autocode</code> which reads plain-text diagnostic text and returns the best matching code either in <em>MMS</em> or <em>ICF</em></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Look for Dementia and HIV stage 4</span></span>
<span><span class="va">code_results</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/autocode.html">icd11_autocode</a></span><span class="op">(</span><span class="va">token</span>, <span class="st">"Patient with cerebrovascular accident"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#Recover the code that matched</span></span>
<span><span class="va">code_results</span> <span class="op">|&gt;</span> <span class="fu"><a href="reference/retrieve.html">retrieve</a></span><span class="op">(</span><span class="st">"title"</span><span class="op">)</span></span>
<span><span class="co">#&gt; NULL</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="icd-10-examples">ICD-10 examples<a class="anchor" aria-label="anchor" href="#icd-10-examples"></a>
</h2>
<p>The main function relating to ICD-10 is <code><a href="reference/icd10_search.html">icd10_search()</a></code> which searches for the titles and parents of codes, blocks of chapters. As an example, we can search for the following vector and obtain a <code>data.frame</code>:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Search for code, specific code, chapter and block </span></span>
<span><span class="va">codes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"D60"</span>, <span class="st">"IX"</span>, <span class="st">"I10-I15"</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/icd10_search.html">icd10_search</a></span><span class="op">(</span><span class="va">token</span>, <span class="va">codes</span><span class="op">)</span></span>
<span><span class="co">#&gt;   searched code                                          code_title   block</span></span>
<span><span class="co">#&gt; 1      D60  D60 Acquired pure red cell aplasia [erythroblastopenia] D60-D64</span></span>
<span><span class="co">#&gt; 2       IX &lt;NA&gt;                                                &lt;NA&gt;    &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 3  I10-I15 &lt;NA&gt;                                                &lt;NA&gt; I10-I15</span></span>
<span><span class="co">#&gt;                   block_title chapter</span></span>
<span><span class="co">#&gt; 1 Aplastic and other anaemias     III</span></span>
<span><span class="co">#&gt; 2                        &lt;NA&gt;      IX</span></span>
<span><span class="co">#&gt; 3       Hypertensive diseases      IX</span></span>
<span><span class="co">#&gt;                                                                                         chapter_title</span></span>
<span><span class="co">#&gt; 1 Diseases of the blood and blood-forming organs and certain disorders involving the immune mechanism</span></span>
<span><span class="co">#&gt; 2                                                                  Diseases of the circulatory system</span></span>
<span><span class="co">#&gt; 3                                                                  Diseases of the circulatory system</span></span></code></pre></div>
<p>If you only want to get the title of the current code/chapter/block you can use <code>icd10_title</code> which is faster as it requires less requests to the API:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Search for code, specific code, chapter and block </span></span>
<span><span class="va">codes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"D60"</span>, <span class="st">"IX"</span>, <span class="st">"I10-I15"</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/icd10_title.html">icd10_title</a></span><span class="op">(</span><span class="va">token</span>, <span class="va">codes</span><span class="op">)</span></span>
<span><span class="co">#&gt;   searched                                               title</span></span>
<span><span class="co">#&gt; 1      D60 Acquired pure red cell aplasia [erythroblastopenia]</span></span>
<span><span class="co">#&gt; 2       IX                  Diseases of the circulatory system</span></span>
<span><span class="co">#&gt; 3  I10-I15                               Hypertensive diseases</span></span></code></pre></div>
<p>Additional information on ICD-10 can be found in the <a href="https://rodrigozepeda.github.io/WHOicd/articles/ICD-10.html" class="external-link">ICD-10 article</a></p>
</div>
<div class="section level2">
<h2 id="support">Support<a class="anchor" aria-label="anchor" href="#support"></a>
</h2>
<p>This is not an official product of the WHO. However we are happy to provide support if you <a href="https://docs.github.com/en/issues/tracking-your-work-with-issues/creating-an-issue" class="external-link">raise an issue</a>.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing WHOicd</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Rodrigo Zepeda-Tello <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-4471-5270" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://CRAN.R-project.org/package=WHOicd" class="external-link"><img src="https://www.r-pkg.org/badges/version/WHOicd" alt="CRAN status"></a></li>
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://app.codecov.io/gh/RodrigoZepeda/WHOicd?branch=main" class="external-link"><img src="https://codecov.io/gh/RodrigoZepeda/WHOicd/branch/main/graph/badge.svg" alt="Codecov test coverage"></a></li>
<li><a href="https://github.com/RodrigoZepeda/WHOicd/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/RodrigoZepeda/WHOicd/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Rodrigo Zepeda-Tello.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

      </footer>
</div>






  </body>
</html>
